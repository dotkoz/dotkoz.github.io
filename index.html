<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Potter</title>
  <link href="https://fonts.googleapis.com/css?family=Lato:400,400i|PT+Serif:700" rel="stylesheet">
  <link rel="stylesheet" href="dist/css/style.css">
  <script src="https://unpkg.com/scrollreveal@4.0.0/dist/scrollreveal.min.js"></script>
</head>

<body class="is-boxed has-animations">
  <div class="body-wrap boxed-container">
    <header class="site-header">
      <div class="container">
        <div class="site-header-inner">

        </div>
      </div>
    </header>

    <main>
      <section class="hero text-light text-center">
        <div class="container-sm">
          <div class="hero-inner">
            <h1 class="hero-title h2-mobile mt-0 is-revealing">Potter</h1>
            <p class="hero-paragraph is-revealing">Pothole detecting app made by ok students from VGTU</p>
              <img alt="Google play button" src="google-play-badge.png" class="google-play">

            <div id="map"></div>
            <script>
              // Note: This example requires that you consent to location sharing when
              // prompted by your browser. If you see the error "The Geolocation service
              // failed.", it means you probably did not give permission for the browser to
              // locate you.
              var map, infoWindow;
              var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      var labelIndex = 0;

              function initMap() {
                map = new google.maps.Map(document.getElementById('map'), {
                  center: {
                    lat: -34.397,
                    lng: 150.644
                  },
                  zoom: 12
                });
                infoWindow = new google.maps.InfoWindow;

//                 var heatmapData = [
//   new google.maps.LatLng(37.782, -122.447),
//   new google.maps.LatLng(37.782, -122.445),
//   new google.maps.LatLng(37.782, -122.443),
//   new google.maps.LatLng(37.782, -122.441),
//   new google.maps.LatLng(37.782, -122.439),
//   new google.maps.LatLng(37.782, -122.437),
//   new google.maps.LatLng(37.782, -122.435),
//   new google.maps.LatLng(37.785, -122.447),
//   new google.maps.LatLng(37.785, -122.445),
//   new google.maps.LatLng(37.785, -122.443),
//   new google.maps.LatLng(37.785, -122.441),
//   new google.maps.LatLng(37.785, -122.439),
//   new google.maps.LatLng(37.785, -122.437),
//   new google.maps.LatLng(37.785, -122.435)
// ];
                // Try HTML5 geolocation.
                if (navigator.geolocation) {
                  navigator.geolocation.getCurrentPosition(function (position) {
                    var pos = {
                      lat: position.coords.latitude,
                      lng: position.coords.longitude
                    };

                    infoWindow.setPosition(pos);
                    infoWindow.setContent('Location found.');
                    infoWindow.open(map);
                    map.setCenter(pos);
                  }, function () {
                    handleLocationError(true, infoWindow, map.getCenter());
                  });
                } else {
                  // Browser doesn't support Geolocation
                  handleLocationError(false, infoWindow, map.getCenter());
                }
                        // This event listener calls addMarker() when the map is clicked.
        google.maps.event.addListener(map, 'click', function(event) {
          addMarker(event.latLng, map);
        });
              }
                    // Adds a marker to the map.
      function addMarker(location, map) {
        var marker = new google.maps.Marker({
          position: location,
          label: labels[labelIndex++ % labels.length],
          map: map
        });
      }
      function addMarker(location, map) {
        var marker = new google.maps.Marker({
          position: location,
          label: labels[labelIndex++ % labels.length],
          map: map
        });
      }

      google.maps.event.addDomListener(window, 'load', initialize);

              function handleLocationError(browserHasGeolocation, infoWindow, pos) {
                infoWindow.setPosition(pos);
                infoWindow.setContent(browserHasGeolocation ?
                  'Error: The Geolocation service failed.' :
                  'Error: Your browser doesn\'t support geolocation.');
                infoWindow.open(map);
              }
              
//               var heatmap = new google.maps.visualization.HeatmapLayer({
//   data: heatmapData
// });
// heatmap.setMap(map);

            </script>

          </div>
        </div>
      </section>
      <br>
      <footer class="site-footer">
        <div class="container">
          <div class="site-footer-inner">

            <ul class="footer-links list-reset">
              <li>
                <a href="#">Contact</a>
              </li>
              <li>
                <a href="#">About us</a>
              </li>
              <li>
                <a href="#">FAQ's</a>
              </li>
            </ul>

          </div>
        </div>
      </footer>
  </div>
  <script src="dist/js/main.min.js"></script>
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCdMphuTeZC125iFZh5toHBBAnOEPSUOok&callback=initMap&libraries=visualization">
  </script>
</body>

</html>